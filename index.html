<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Options Trading University</title>
  <style>
    body { margin:0; font-family:Arial, sans-serif; background:#eaf1ff; color:#0f1a33; }
    a, a:visited, a:hover, a:active { text-decoration:none!important; color:inherit!important; outline:none; }

    .sidebar { position:fixed; top:0; left:0; bottom:0; width:220px; background:#0b1328; color:#fff; padding:10px; }
    .brand { display:flex; align-items:center; gap:10px; padding:10px; font-weight:800; }
    .brand-logo { width:30px; height:30px; border-radius:6px; object-fit:cover; }
    .brand-text, .brand-inline { background:linear-gradient(90deg,#2a7fff,#ff4081); -webkit-background-clip:text; -webkit-text-fill-color:transparent; font-weight:900; }
    
    .side-nav { display:flex; flex-direction:column; gap:10px; }
    .side-nav a { color:#d8e2ff; padding:8px; border-radius:6px; font-weight:600; }
    .side-nav a.active { background:#163067; }

    .page { margin-left:220px; display:flex; flex-direction:column; min-height:100vh; }
    .container { max-width:900px; margin:auto; padding:20px; }

    .topbar { background:#fff; border-bottom:1px solid #e3e9f2; display:flex; justify-content:space-between; align-items:center; padding:10px; position:sticky; top:0; z-index:500; }
    .burger { display:none; font-size:24px; background:none; border:none; cursor:pointer; }
    @media(max-width:768px){
      .sidebar { display:none; }
      .page { margin-left:0; }
      .burger { display:block; }
    }

    .btn { background:#2a7fff; color:#fff; padding:10px 16px; border:none; border-radius:6px; font-weight:600; cursor:pointer; }
    .btn.ghost { background:#fff; color:#2a7fff; border:2px solid #2a7fff; }

    .modal-backdrop { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); z-index:2000; }
    .modal { background:#fff; padding:20px; border-radius:10px; max-width:400px; width:90%; text-align:left; position:relative; }
    .modal .close { position:absolute; top:10px; right:10px; background:none; border:none; font-size:20px; cursor:pointer; color:#444; }
    .suggest { background:#f5f9ff; padding:12px; border-radius:6px; font-family:monospace; margin-top:10px; }
  </style>
</head>
<body>
  <aside class="sidebar" id="sidebar">
    <div class="brand">
      <img src="branding/logo.jpeg" class="brand-logo" alt="Logo">
      <span class="brand-text">Options Trading University</span>
    </div>
    <nav class="side-nav">
      <a href="index.html" class="active">Home</a>
      <a href="watchlist.html">Watchlist</a>
      <a href="modules.html">Modules</a>
      <a href="glossary.html">Glossary</a>
      <a href="testimonials.html">Testimonials</a>
      <a href="contact.html">Contact</a>
      <a href="terms.html">Disclaimer</a>
    </nav>
  </aside>

  <div class="page">
    <header class="topbar">
      <button class="burger" id="burger">☰</button>
      <div class="brand-inline">Options Trading University</div>
      <button class="btn" id="mentorBtn">Message a Mentor</button>
    </header>

    <main class="container">
      <section class="hero">
        <h1>Learn Options with Mentorship</h1>
        <p>Learn the strategies, master the mindset, and grow alongside a community of traders who win together.</p>
        <div style="margin-top:20px;">
          <a class="btn" href="modules.html">Start Learning</a>
          <a class="btn ghost" href="testimonials.html">Success Stories</a>
        </div>
      </section>

      <section class="stats" style="margin-top:40px;">
        <div class="stat"><h2 data-count="2489">0+</h2><div>Total Trades</div></div>
        <div class="stat"><h2 data-count="789">0</h2><div>Avg Income $</div></div>
        <div class="stat"><h2 data-count="1300">0+</h2><div>Community Members</div></div>
      </section>
    </main>

    <footer class="footer" style="padding:20px; text-align:center; color:#9cb2ff; background:#0b1328;">© 2025 Options Trading University</footer>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="tt-modal">
    <div class="modal">
      <button class="close" id="modalClose">✕</button>
      <h3>Message on TikTok</h3>
      <p>Send us a DM on TikTok. Suggested message:</p>
      <div class="suggest">
        Hi — I found OTU. I'd like to connect with a mentor and get started. — <i>Your name</i>
      </div>
      <div style="text-align:right; margin-top:12px;">
        <button class="btn" id="modalCloseBtn">Close</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function(){

      // init EmailJS
      try {
        emailjs.init("XNaU6g1Q9JefQK51J");
      } catch(e){
        console.warn("EmailJS init failed", e);
      }

      // Sidebar toggle
      const burger = document.getElementById('burger');
      const sidebar = document.getElementById('sidebar');
      burger.addEventListener('click', () => {
        if (sidebar.style.display === 'block') {
          sidebar.style.display = 'none';
        } else {
          sidebar.style.display = 'block';
        }
      });

      // Modal open/close
      const mentorBtn = document.getElementById('mentorBtn');
      const ttModal = document.getElementById('tt-modal');
      const modalClose = document.getElementById('modalClose');
      const modalCloseBtn = document.getElementById('modalCloseBtn');

      mentorBtn.addEventListener('click', () => {
        ttModal.style.display = 'flex';

        // Send email when clicked
        const params = new URLSearchParams(window.location.search);
        const ref = params.get("from") || "default";
        emailjs.send("service_4o276ak", "template_xrd10jb", {
          referral: ref,
          page: window.location.href,
          email_to: "c50814398@gmail.com"
        }).then(res=>{
          console.log("Email sent");
        }).catch(err=>{
          console.warn("Email send failed", err);
        });
      });

      modalClose.addEventListener('click', () => {
        ttModal.style.display = 'none';
      });
      modalCloseBtn.addEventListener('click', () => {
        ttModal.style.display = 'none';
      });

      // Stats animation
      document.querySelectorAll(".stat h2").forEach(el => {
        let target = +el.dataset.count;
        let current = 0;
        let increment = Math.ceil(target / 100);
        const interval = setInterval(() => {
          current += increment;
          if (current >= target) {
            current = target;
            clearInterval(interval);
          }
          el.textContent = current + (el.dataset.count.includes("%") ? "%" : "+");
        }, 30);
      });

    });
  </script>

</body>
</html>
